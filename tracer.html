<!DOCTYPE html>
<html>

<!--
Dear person who is viewing this code!
Be warned that it is very ugly. The main objective was getting this done
quickly, so the code is basically a big heap of grown spaghetti. Feel free
to play around in it but don't say you haven't been warned.
-->

	<head>
		<meta charset="utf-8">
		<title>Orbiter</title>
		<style>
			body {
				background: linear-gradient(white, #aabbcc);
				margin: 0px;
				overflow:hidden;
				font-size:14pt;
				font-family:sans-serif;
			}
			td {padding:10px}
			button {
				padding:10px;
				font-size:14pt;
				border:solid 2px black;
			}
			a{color:#000080}
		</style>
	</head>
	<body>

<table id="annoyscreen" style="position:absolute; left:15%; top:15%; font-size:24pt; background-color:rgba(255,255,255,0.9); color:black" width=70% height=70%>
<tr><td style="padding:5%"><center><span id="annoyer"></span><br><br>
<button id="ok" style="color:white; background-color:#000080; font-size:24pt" onclick="accept()"></button>
</center></td></tr>
</table>

<script src="three.js"></script>
<script src="OrbitControls.js"></script>

<script>

var t;
var tailverts = [];


	var annoyance = 1;
	function accept(){
		if(annoyance==1){
			document.getElementById("annoyer").innerHTML="This is my take at <a href='https://www.youtube.com/watch?v=qS4H6PEcCCA'>this</a> challenge. It was created as a recreational math programming project purely for the pure sake of itself.";
			document.getElementById("ok").innerHTML="Ok!"
			annoyance = 2;
			return;
		}
		if(annoyance==2){
			document.getElementById("annoyer").innerHTML="And in no way what so ever does this whole thing serve the purpose of sneakily promoting MY VERY OWN BRAND NEW MATHS CHANNEL <a href='https://www.youtube.com/channel/UCEi0j1Q_RzXRI2YLAp5ZcGQ' style='color:#000080' target='_blank'><b><u>AlmondBread</u></b></a> !!!<br><br>(where I will soon investigate the the mysterious land in between addition and multiplication by the way, so make sure you don't subscribe if you want to miss out on it)";
			document.getElementById("ok").innerHTML="Alright!"
			annoyance = 3;
			return;
		}
		if(annoyance==3){
			document.getElementById("annoyer").innerHTML="Note that it's a 3d kinda thing and you can move it around with your mouse.";
			document.getElementById("ok").innerHTML="Got it!"
			annoyance = 4;
			return;
		}
		if(annoyance==4){
			document.getElementById("annoyer").innerHTML="Also note that this site doesn't use cookies so there's no annoying cookie warning that you have to click away.";
			document.getElementById("ok").innerHTML="AAAAH! Let me play already!"
			annoyance = 5;
			return;
		}
		if(annoyance==5){t=0;tailverts = [];}
		document.getElementById("annoyscreen").style.display = "none";
	}
	accept()





renderer = new THREE.WebGLRenderer({ antialias: false,alpha:true });
renderer.setSize( window.innerWidth, window.innerHeight );
renderer.setClearColor(0x000000, 0);
document.body.appendChild( renderer.domElement );

var scene = new THREE.Scene();
// vertical angle in deg, aspect, near, far
var camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 1000 );
// points at -z, x is left, y is up (right-handed)
var controls = new THREE.OrbitControls( camera );

function onWindowResize() {
	camera.aspect = window.innerWidth / window.innerHeight;
	camera.updateProjectionMatrix();
	renderer.setSize( window.innerWidth, window.innerHeight );
}
window.addEventListener( 'resize', onWindowResize, false );

var geometry = new THREE.BoxGeometry( 1, 1, 1 );
var material = new THREE.MeshBasicMaterial( { color: 0x00ff00 } );
var cube = new THREE.Mesh( geometry, material );
//scene.add( cube );

camera.position.set(0.5,1,1.5);
camera.lookAt(new THREE.Vector3(0,0,0));

var circles=[]

function vec(x,y,z){return new THREE.Vector3(x,y,z);}
function vrand(){return vec(Math.random()*2-1,Math.random()*2-1,Math.random()*2-1);}

function circle(r1, r2, w, n){

	var material = new THREE.LineBasicMaterial( { color: 0xdd8800 } );
	var geometry = new THREE.Geometry();

	for(var i=0; i<=n; i++){
		var q = i*2*Math.PI/n;
		var p = vec(0,0,0);
		p.addScaledVector(r1, Math.cos(q));
		p.addScaledVector(r2, Math.sin(q));
		geometry.vertices.push(p);
	}
	var line = new THREE.Line( geometry, material );
	scene.add(line);

	var moon = vec(0,0,0);
	moon.addScaledVector(r1);

	circles.push({
		center:vec(0,0,0),
		w:w,
		r1:r1,
		r2:r2,
		moon:moon,
		line:line
	})
}

n = 32;

circle(vec(-0.003581733082,-0.5837244117,0), vec(0.5837244117,-0.003581733082,0), 1, n);
circle(vec(-0.002084963255,0.002445790352,-0.2618765646), vec(0.1698895617,-0.1992909228,-0.003213870287), 2, n);
circle(vec(0.002084963255,-0.002445790352,-0.2618765646), vec(-0.1698895617,0.1992909228,-0.003213870287), 2, n);
circle(vec(-0.002633831362,0.1430664304,0), vec(0.1430664304,0.002633831362,0), 3, n);
circle(vec(-0.007982051641,-0.2600927993,0), vec(0.2600927993,-0.007982051641,0), 5, n);
circle(vec(0.003878012806,-0.002149562146,0.1203815444), vec(-0.1052887095,0.05836097912,0.004433914833), 6, n);
circle(vec(-0.003878012806,0.002149562146,0.1203815444), vec(0.1052887095,-0.05836097912,0.004433914833), 6, n);
circle(vec(-0.001873303011,0.04358759413,0), vec(0.04358759413,0.001873303011,0), 7, n);
circle(vec(0.006482547411,0.1172685322,0), vec(-0.1172685322,0.006482547411,0), 9, n);
circle(vec(-0.004107196032,0.001991467516,-0.07429701238), vec(0.06685286251,-0.03241513261,-0.004564537448), 10, n);
circle(vec(0.004107196032,-0.001991467516,-0.07429701238), vec(-0.06685286251,0.03241513261,-0.004564537448), 10, n);
circle(vec(0.0005026846687,-0.007436401865,0), vec(-0.007436401865,-0.0005026846687,0), 11, n);
circle(vec(0.001489332135,0.01863141417,0), vec(-0.01863141417,0.001489332135,0), 13, n);
circle(vec(0.01308610285,-0.007317735657,0.1741067462), vec(-0.1519610458,0.08497646522,0.01499317654), 14, n);
circle(vec(-0.01308610285,0.007317735657,0.1741067462), vec(0.1519610458,-0.08497646522,0.01499317654), 14, n);
circle(vec(-0.005504135438,0.05963334721,0), vec(0.05963334721,0.005504135438,0), 15, n);
circle(vec(-0.002919035492,-0.02788247911,0), vec(0.02788247911,-0.002919035492,0), 17, n);
circle(vec(-0.002508515629,0.002457400847,-0.03166533233), vec(0.0226200439,-0.02215912646,-0.003511619225), 18, n);
circle(vec(0.002508515629,-0.002457400847,-0.03166533233), vec(-0.0226200439,0.02215912646,-0.003511619225), 18, n);
circle(vec(-0.0005876214858,0.005017533965,0), vec(0.005017533965,0.0005876214858,0), 19, n);
circle(vec(0.003664762931,0.02828353757,0), vec(-0.02828353757,0.003664762931,0), 21, n);
circle(vec(-0.0006553895282,0.0002011296771,-0.005047680132), vec(0.004825559458,-0.001480895214,-0.0006855571316), 22, n);
circle(vec(0.0006553895282,-0.0002011296771,-0.005047680132), vec(-0.004825559458,0.001480895214,-0.0006855571316), 22, n);
circle(vec(-0.01423131156,0.1001706471,0), vec(0.1001706471,0.01423131156,0), 23, n);
circle(vec(0.001663447235,0.01075879975,0), vec(-0.01075879975,0.001663447235,0), 25, n);
circle(vec(-0.002693649619,0.003342472307,-0.02667950952), vec(0.01674099944,-0.02077342451,-0.004292769431), 26, n);
circle(vec(0.002693649619,-0.003342472307,-0.02667950952), vec(-0.01674099944,0.02077342451,-0.004292769431), 26, n);
circle(vec(-0.01356426536,0.08112480508,0), vec(0.08112480508,0.01356426536,0), 27, n);
circle(vec(-0.0007392490865,-0.004110503185,0), vec(0.004110503185,-0.0007392490865,0), 29, n);
circle(vec(-0.0008509552889,0.001487892651,-0.009206118021), vec(0.004570472718,-0.007991457198,-0.001714044762), 30, n);
circle(vec(0.0008509552889,-0.001487892651,-0.009206118021), vec(-0.004570472718,0.007991457198,-0.001714044762), 30, n);
circle(vec(-0.004597536202,0.02387817388,0), vec(0.02387817388,0.004597536202,0), 31, n);
circle(vec(0.0003019490364,0.001470777375,0), vec(-0.001470777375,0.0003019490364,0), 33, n);
circle(vec(-0.001811879074,0.001025025913,-0.009833302849), vec(0.008558645131,-0.004841842462,-0.002081726183), 34, n);
circle(vec(0.001811879074,-0.001025025913,-0.009833302849), vec(-0.008558645131,0.004841842462,-0.002081726183), 34, n);
circle(vec(-0.008793759484,0.04031597578,0), vec(0.04031597578,0.008793759484,0), 35, n);
circle(vec(0.008059009785,0.03488570361,0), vec(-0.03488570361,0.008059009785,0), 37, n);
circle(vec(-6.603188248e-05,0.001341969284,-0.005657603541), vec(0.000278047185,-0.005650766992,-0.001343592859), 38, n);
circle(vec(6.603188248e-05,-0.001341969284,-0.005657603541), vec(-0.000278047185,0.005650766992,-0.001343592859), 38, n);
circle(vec(-0.007580546953,0.03107087511,0), vec(0.03107087511,0.007580546953,0), 39, n);
circle(vec(0.008121673389,0.03159962952,0), vec(-0.03159962952,0.008121673389,0), 41, n);
circle(vec(-0.0004170749578,0.0004000331992,-0.002192620985), vec(0.001582408833,-0.00151775132,-0.0005779083672), 42, n);
circle(vec(0.0004170749578,-0.0004000331992,-0.002192620985), vec(-0.001582408833,0.00151775132,-0.0005779083672), 42, n);
circle(vec(-0.0141742159,0.05246939369,0), vec(0.05246939369,0.0141742159,0), 43, n);
circle(vec(-0.0003952121925,-0.001394762743,0), vec(0.001394762743,-0.0003952121925,0), 45, n);
circle(vec(-0.001419566509,0.001071923047,-0.00613396362), vec(0.004895147638,-0.003696354865,-0.001778816486), 46, n);
circle(vec(0.001419566509,-0.001071923047,-0.00613396362), vec(-0.004895147638,0.003696354865,-0.001778816486), 46, n);
circle(vec(-0.00126565902,0.00426638377,0), vec(0.00426638377,0.00126565902,0), 47, n);
circle(vec(0.002104084808,0.006786061098,0), vec(-0.006786061098,0.002104084808,0), 49, n);
circle(vec(0.001882023937,-0.0053949718,0.01803613069), vec(-0.005940759748,0.01702966189,0.005713819636), 50, n);
circle(vec(-0.001882023937,0.0053949718,0.01803613069), vec(0.005940759748,-0.01702966189,0.005713819636), 50, n);
circle(vec(-0.01571492625,0.04856829191,0), vec(0.04856829191,0.01571492625,0), 51, n);
circle(vec(-0.004917002507,-0.01458294558,0), vec(0.01458294558,-0.004917002507,0), 53, n);
circle(vec(-0.001736451791,0.004928668479,-0.01518973929), vec(0.005047493341,-0.01432658336,-0.005225613629), 54, n);
circle(vec(0.001736451791,-0.004928668479,-0.01518973929), vec(-0.005047493341,0.01432658336,-0.005225613629), 54, n);
circle(vec(-0.03784769818,0.107859137,0), vec(0.107859137,0.03784769818,0), 55, n);
circle(vec(-0.005112325442,-0.01401625879,0), vec(0.01401625879,-0.005112325442,0), 57, n);
circle(vec(0.03089282515,-0.0815737889,0), vec(-0.0815737889,-0.03089282515,0), 59, n);
circle(vec(0.0009034463815,0.002299967583,0), vec(-0.002299967583,0.0009034463815,0), 61, n);
circle(vec(-0.002021726639,0.001524708094,-0.006331990997), vec(0.005055476848,-0.003812645252,-0.002532215113), 62, n);
circle(vec(0.002021726639,-0.001524708094,-0.006331990997), vec(-0.005055476848,0.003812645252,-0.002532215113), 62, n);
circle(vec(0.006777104784,-0.01664960341,0), vec(-0.01664960341,-0.006777104784,0), 63, n);
circle(vec(-0.003616661595,-0.008582070155,0), vec(0.008582070155,-0.003616661595,0), 65, n);
circle(vec(-0.0009714023284,0.002517640413,-0.006295224874), vec(0.002266110085,-0.005873210476,-0.002698543261), 66, n);
circle(vec(0.0009714023284,-0.002517640413,-0.006295224874), vec(-0.002266110085,0.005873210476,-0.002698543261), 66, n);
circle(vec(0.006342255606,-0.01454820031,0), vec(-0.01454820031,-0.006342255606,0), 67, n);
circle(vec(0.003861773615,0.008569698969,0), vec(-0.008569698969,0.003861773615,0), 69, n);
circle(vec(-0.001823362537,0.0009027630578,-0.004442050128), vec(0.003980848142,-0.001970953427,-0.002034608582), 70, n);
circle(vec(0.001823362537,-0.0009027630578,-0.004442050128), vec(-0.003980848142,0.001970953427,-0.002034608582), 70, n);
circle(vec(0.004527884538,-0.009727388716,0), vec(-0.009727388716,-0.004527884538,0), 71, n);
circle(vec(-0.00936914655,-0.01949893781,0), vec(0.01949893781,-0.00936914655,0), 73, n);
circle(vec(-0.0005405192106,0.003161340601,-0.006571218765), vec(0.001107461991,-0.006477225023,-0.003207216147), 74, n);
circle(vec(0.0005405192106,-0.003161340601,-0.006571218765), vec(-0.001107461991,0.006477225023,-0.003207216147), 74, n);
circle(vec(0.00538285546,-0.01085930274,0), vec(-0.01085930274,-0.00538285546,0), 75, n);
circle(vec(-0.006326695632,-0.01237926,0), vec(0.01237926,-0.006326695632,0), 77, n);
circle(vec(-0.01399239733,0.01252283542,-0.03619236658), vec(0.02696886486,-0.02413643982,-0.01877787502), 78, n);
circle(vec(0.01399239733,-0.01252283542,-0.03619236658), vec(-0.02696886486,0.02413643982,-0.01877787502), 78, n);
circle(vec(-0.002198624849,0.004174753243,0), vec(0.004174753243,0.002198624849,0), 79, n);
circle(vec(-0.002445574069,0.002289257104,-0.006086285414), vec(0.00444331483,-0.004159305647,-0.003349855312), 82, n);
circle(vec(0.002445574069,-0.002289257104,-0.006086285414), vec(-0.00444331483,0.004159305647,-0.003349855312), 82, n);
circle(vec(0.006259002147,-0.01120849461,0), vec(-0.01120849461,-0.006259002147,0), 83, n);
circle(vec(-0.002667809219,-0.004642684701,0), vec(0.004642684701,-0.002667809219,0), 85, n);
circle(vec(0.00404946828,-0.004398172697,0.01025788083), vec(-0.006948091325,0.00754639954,0.005978471078), 86, n);
circle(vec(-0.00404946828,0.004398172697,0.01025788083), vec(0.006948091325,-0.00754639954,0.005978471078), 86, n);
circle(vec(-0.003837874076,0.006493127333,0), vec(0.006493127333,0.003837874076,0), 87, n);
circle(vec(-0.00554361504,-0.009121567107,0), vec(0.009121567107,-0.00554361504,0), 89, n);
circle(vec(-0.003341712587,0.003451755273,-0.007796946256), vec(0.005423256421,-0.005601844402,-0.004804337361), 90, n);
circle(vec(0.003341712587,-0.003451755273,-0.007796946256), vec(-0.005423256421,0.005601844402,-0.004804337361), 90, n);
circle(vec(-0.008491464855,0.01359330847,0), vec(0.01359330847,0.008491464855,0), 91, n);
circle(vec(-0.0008449061868,-0.001316313509,0), vec(0.001316313509,-0.0008449061868,0), 93, n);
circle(vec(0.005335713646,-0.001619599744,0.008571088444), vec(-0.008201580883,0.002489503594,0.005576104684), 94, n);
circle(vec(-0.005335713646,0.001619599744,0.008571088444), vec(0.008201580883,-0.002489503594,0.005576104684), 94, n);
circle(vec(0.004358941695,-0.006611074367,0), vec(-0.006611074367,-0.004358941695,0), 95, n);
circle(vec(-0.006625489962,0.001111177671,-0.009791936387), vec(0.009657063726,-0.001619610572,-0.006718023002), 98, n);
circle(vec(0.006625489962,-0.001111177671,-0.009791936387), vec(-0.009657063726,0.001619610572,-0.006718023002), 98, n);
circle(vec(-0.01029624756,-0.0144306442,0), vec(0.0144306442,-0.01029624756,0), 101, n);
circle(vec(0.004214828152,-0.003646254932,0.007710502651), vec(-0.00583125693,0.00504463019,0.005573145556), 102, n);
circle(vec(-0.004214828152,0.003646254932,0.007710502651), vec(0.00583125693,-0.00504463019,0.005573145556), 102, n);
circle(vec(-0.01117372336,-0.01487439751,0), vec(0.01487439751,-0.01117372336,0), 105, n);
circle(vec(-0.005977847855,0.00859756833,-0.01376296362), vec(0.007856821111,-0.01129997919,-0.01047152549), 106, n);
circle(vec(0.005977847855,-0.00859756833,-0.01376296362), vec(-0.007856821111,0.01129997919,-0.01047152549), 106, n);
circle(vec(0.0006477539821,-0.0008406039365,0), vec(-0.0008406039365,-0.0006477539821,0), 107, n);
circle(vec(-0.0009935554698,-0.001257142863,0), vec(0.001257142863,-0.0009935554698,0), 109, n);
circle(vec(0.001753457693,-0.001602269278,0.002967798903), vec(-0.00219087607,0.002001972122,0.002375264347), 110, n);
circle(vec(-0.001753457693,0.001602269278,0.002967798903), vec(0.00219087607,-0.002001972122,0.002375264347), 110, n);
circle(vec(-0.0009965771095,0.001229641425,0), vec(0.001229641425,0.0009965771095,0), 111, n);
circle(vec(-0.002282905665,-0.002747180742,0), vec(0.002747180742,-0.002282905665,0), 113, n);
circle(vec(0.00850373989,-0.01133974836,0.01684526577), vec(-0.01010634454,0.01347682377,0.01417404265), 114, n);
circle(vec(-0.00850373989,0.01133974836,0.01684526577), vec(0.01010634454,-0.01347682377,0.01417404265), 114, n);
circle(vec(0.003187513086,-0.003741385791,0), vec(-0.003741385791,-0.003187513086,0), 115, n);
circle(vec(-0.004937422813,-0.005653335124,0), vec(0.005653335124,-0.004937422813,0), 117, n);
circle(vec(-0.0003957486314,0.001043588503,-0.001262222463), vec(0.0004475583355,-0.001180210609,-0.0011161066), 118, n);
circle(vec(0.0003957486314,-0.001043588503,-0.001262222463), vec(-0.0004475583355,0.001180210609,-0.0011161066), 118, n);
circle(vec(-0.005648070487,-0.006155356943,0), vec(0.006155356943,-0.005648070487,0), 121, n);
circle(vec(0.001983518334,-0.002728184872,0.003631004847), vec(-0.002135220467,0.002936840097,0.003373030933), 122, n);
circle(vec(-0.001983518334,0.002728184872,0.003631004847), vec(0.002135220467,-0.002936840097,0.003373030933), 122, n);
circle(vec(0.0008945634779,-0.0009512088367,0), vec(-0.0009512088367,-0.0008945634779,0), 123, n);
circle(vec(-0.004338836185,-0.00450158704,0), vec(0.00450158704,-0.004338836185,0), 125, n);
circle(vec(0.001078003074,-0.0003438723865,0.001159638756), vec(-0.001104791336,0.0003524175789,0.00113152059), 126, n);
circle(vec(-0.001078003074,0.0003438723865,0.001159638756), vec(0.001104791336,-0.0003524175789,0.00113152059), 126, n);
circle(vec(-0.007678717357,0.007773532364,0), vec(0.007773532364,0.007678717357,0), 127, n);
circle(vec(0.002802928223,0.002768740463,0), vec(-0.002768740463,0.002802928223,0), 129, n);
circle(vec(0.001085814775,-0.0007329225234,0.001278261725), vec(-0.001059486644,0.0007151510944,0.001310026393), 130, n);
circle(vec(-0.001085814775,0.0007329225234,0.001278261725), vec(0.001059486644,-0.0007151510944,0.001310026393), 130, n);
circle(vec(0.003868215907,-0.003728364019,0), vec(-0.003728364019,-0.003868215907,0), 131, n);
circle(vec(-0.003983924634,-0.003746678268,0), vec(0.003746678268,-0.003983924634,0), 133, n);
circle(vec(-0.003395274952,0.00507404052,-0.005671464389), vec(0.003154049064,-0.004713542491,-0.006105225565), 134, n);
circle(vec(0.003395274952,-0.00507404052,-0.005671464389), vec(-0.003154049064,0.004713542491,-0.006105225565), 134, n);
circle(vec(0.004501098409,-0.004130145712,0), vec(-0.004130145712,-0.004501098409,0), 135, n);
circle(vec(0.003466812035,0.003103602705,0), vec(-0.003103602705,0.003466812035,0), 137, n);
circle(vec(-0.00187120995,0.001672525652,-0.002219205924), vec(0.001654597218,-0.00147891277,-0.002509734794), 138, n);
circle(vec(0.00187120995,-0.001672525652,-0.002219205924), vec(-0.001654597218,0.00147891277,-0.002509734794), 138, n);
circle(vec(-0.004257217325,0.003718102939,0), vec(0.003718102939,0.004257217325,0), 139, n);
circle(vec(0.001891646115,0.00161160786,0), vec(-0.00161160786,0.001891646115,0), 141, n);
circle(vec(-0.00666128258,0.01006544903,-0.01015604701), vec(0.005604975583,-0.008469329349,-0.01207004349), 142, n);
circle(vec(0.00666128258,-0.01006544903,-0.01015604701), vec(-0.005604975583,0.008469329349,-0.01207004349), 142, n);
circle(vec(-0.008892184821,0.00738940063,0), vec(0.00738940063,0.008892184821,0), 143, n);
circle(vec(0.006919198849,0.005607744703,0), vec(-0.005607744703,0.006919198849,0), 145, n);
circle(vec(-0.0004210925589,0.002233233822,-0.001818854765), vec(0.0003370195133,-0.001787358527,-0.002272587126), 146, n);
circle(vec(0.0004210925589,-0.002233233822,-0.001818854765), vec(-0.0003370195133,0.001787358527,-0.002272587126), 146, n);
circle(vec(0.002152130459,-0.001700889415,0), vec(-0.001700889415,-0.002152130459,0), 147, n);
circle(vec(0.006603350814,0.005088421073,0), vec(-0.005088421073,0.006603350814,0), 149, n);
circle(vec(0.008364786207,-0.004552874524,0.007245987845), vec(-0.006364332162,0.003464046186,0.009523566282), 150, n);
circle(vec(-0.008364786207,0.004552874524,0.007245987845), vec(0.006364332162,-0.003464046186,0.009523566282), 150, n);
circle(vec(0.001297236571,-0.0009744907368,0), vec(-0.0009744907368,-0.001297236571,0), 151, n);
circle(vec(-0.008410761556,0.002263190488,-0.006295533409), vec(0.00607929217,-0.001635832394,-0.008709933475), 154, n);
circle(vec(0.008410761556,-0.002263190488,-0.006295533409), vec(-0.00607929217,0.001635832394,-0.008709933475), 154, n);
circle(vec(0.004274843111,-0.003050095502,0), vec(-0.003050095502,-0.004274843111,0), 155, n);
circle(vec(-0.003834892554,-0.002665785079,0), vec(0.002665785079,-0.003834892554,0), 157, n);
circle(vec(-0.005456755893,0.003694718515,0), vec(0.003694718515,0.005456755893,0), 159, n);
circle(vec(-0.0007903698056,0.0008604074721,-0.000760079383), vec(0.000514191961,-0.000559756461,-0.001168325917), 162, n);
circle(vec(0.0007903698056,-0.0008604074721,-0.000760079383), vec(-0.000514191961,0.000559756461,-0.001168325917), 162, n);
circle(vec(0.003108064201,-0.001994982695,0), vec(-0.001994982695,-0.003108064201,0), 163, n);
circle(vec(0.01033967381,0.006458985088,0), vec(-0.006458985088,0.01033967381,0), 165, n);
circle(vec(5.970321162e-05,-0.002235295242,0.001377839732), vec(-3.678803993e-05,0.001377348528,0.002236092416), 166, n);
circle(vec(-5.970321162e-05,0.002235295242,0.001377839732), vec(3.678803993e-05,-0.001377348528,0.002236092416), 166, n);
circle(vec(-0.003294893193,0.002002465064,0), vec(0.002002465064,0.003294893193,0), 167, n);
circle(vec(0.01079735626,0.006381962276,0), vec(-0.006381962276,0.01079735626,0), 169, n);
circle(vec(-9.102122751e-05,0.001535606615,-0.0008965490236), vec(5.304875201e-05,-0.0008949782018,-0.001538301837), 170, n);
circle(vec(9.102122751e-05,-0.001535606615,-0.0008965490236), vec(-5.304875201e-05,0.0008949782018,-0.001538301837), 170, n);
circle(vec(-0.002530862955,0.001454300681,0), vec(0.001454300681,0.002530862955,0), 171, n);
circle(vec(-0.001990460965,-0.001111505147,0), vec(0.001111505147,-0.001990460965,0), 173, n);
circle(vec(0.0002241346704,-0.00261335551,0.001443655739), vec(-0.0001233623902,0.001438375338,0.002622949366), 174, n);
circle(vec(-0.0002241346704,0.00261335551,0.001443655739), vec(0.0001233623902,-0.001438375338,0.002622949366), 174, n);
circle(vec(0.00462938266,-0.002511098278,0), vec(-0.002511098278,-0.00462938266,0), 175, n);
circle(vec(0.004128524851,0.002174278766,0), vec(-0.002174278766,0.004128524851,0), 177, n);
circle(vec(0.01306980349,-0.0001206957903,0.0067813637), vec(-0.006781074562,6.26212287e-05,0.01307036077), 178, n);
circle(vec(-0.01306980349,0.0001206957903,0.0067813637), vec(0.006781074562,-6.26212287e-05,0.01307036077), 178, n);
circle(vec(0.002610996894,-0.001334407924,0), vec(-0.001334407924,-0.002610996894,0), 179, n);
circle(vec(-0.012487834,-0.006190103277,0), vec(0.006190103277,-0.012487834,0), 181, n);
circle(vec(-0.00199645401,-0.0009293052336,0), vec(0.0009293052336,-0.00199645401,0), 185, n);
circle(vec(0.001953372144,-0.00177474233,0.001208842187), vec(-0.0008947102379,0.0008128917663,0.002639199323), 186, n);
circle(vec(-0.001953372144,0.00177474233,0.001208842187), vec(0.0008947102379,-0.0008128917663,0.002639199323), 186, n);
circle(vec(0.005061263242,-0.002280763061,0), vec(-0.002280763061,-0.005061263242,0), 187, n);
circle(vec(-0.008859706993,-0.003862369583,0), vec(0.003862369583,-0.008859706993,0), 189, n);
circle(vec(-0.0009590589574,0.002557727733,-0.001170951553), vec(0.0004111151132,-0.001096408639,-0.002731623188), 190, n);
circle(vec(0.0009590589574,-0.002557727733,-0.001170951553), vec(-0.0004111151132,0.001096408639,-0.002731623188), 190, n);
circle(vec(0.001890886794,-0.0007968587444,0), vec(-0.0007968587444,-0.001890886794,0), 191, n);
circle(vec(-0.005197054331,-0.002115424668,0), vec(0.002115424668,-0.005197054331,0), 193, n);
circle(vec(0.003511054814,-0.001379171511,0), vec(-0.001379171511,-0.003511054814,0), 195, n);
circle(vec(-0.01937362756,-0.00733699019,0), vec(0.00733699019,-0.01937362756,0), 197, n);
circle(vec(-0.00136414538,0.002478935768,-0.001051751022), vec(0.0005070670557,-0.0009214462618,-0.002829490265), 198, n);
circle(vec(0.00136414538,-0.002478935768,-0.001051751022), vec(-0.0005070670557,0.0009214462618,-0.002829490265), 198, n);
circle(vec(0.01891629267,0.006637714294,0), vec(-0.006637714294,0.01891629267,0), 201, n);
circle(vec(0.001120929026,-0.00184318491,0.0007421495293), vec(-0.0003856249198,0.0006340972679,0.002157269685), 202, n);
circle(vec(-0.001120929026,0.00184318491,0.0007421495293), vec(0.0003856249198,-0.0006340972679,0.002157269685), 202, n);
circle(vec(-0.003546379513,0.001195749985,0), vec(0.001195749985,0.003546379513,0), 203, n);
circle(vec(0.01026055547,0.003319941183,0), vec(-0.003319941183,0.01026055547,0), 205, n);
circle(vec(-0.001435435984,5.995486166e-05,-0.0004551404923), vec(0.0004547440054,-1.899361186e-05,-0.001436687527), 206, n);
circle(vec(0.001435435984,-5.995486166e-05,-0.0004551404923), vec(-0.0004547440054,1.899361186e-05,-0.001436687527), 206, n);
circle(vec(0.001077424303,0.0003196270804,0), vec(-0.0003196270804,0.001077424303,0), 209, n);
circle(vec(-0.001620779419,0.0004592550172,0), vec(0.0004592550172,0.001620779419,0), 211, n);
circle(vec(0.002070329532,0.0005592841026,0), vec(-0.0005592841026,0.002070329532,0), 213, n);
circle(vec(0.001440360914,-0.002856468464,0.0008431779067), vec(-0.0003796354364,0.0007528784217,0.003199070436), 214, n);
circle(vec(-0.001440360914,0.002856468464,0.0008431779067), vec(0.0003796354364,-0.0007528784217,0.003199070436), 214, n);
circle(vec(0.001709590082,-0.0004393954134,0), vec(-0.0004393954134,-0.001709590082,0), 215, n);
circle(vec(0.002158365978,0.0005265894372,0), vec(-0.0005265894372,0.002158365978,0), 217, n);
circle(vec(-0.0007235339607,0.001196461576,-0.0003320557206), vec(0.0001718280639,-0.0002841410179,-0.001398220903), 218, n);
circle(vec(0.0007235339607,-0.001196461576,-0.0003320557206), vec(-0.0001718280639,0.0002841410179,-0.001398220903), 218, n);
circle(vec(0.00226568805,-0.0005234007136,0), vec(-0.0005234007136,-0.00226568805,0), 219, n);
circle(vec(-0.0009875308698,-0.0002154011849,0), vec(0.0002154011849,-0.0009875308698,0), 221, n);
circle(vec(-0.002939180531,-0.0005659138327,0), vec(0.0005659138327,-0.002939180531,0), 225, n);
circle(vec(0.001380068729,0.000230750859,0), vec(-0.000230750859,0.001380068729,0), 229, n);
circle(vec(-0.0009622751975,0.0002552864025,-0.0001601873636), vec(0.0001548313903,-4.107592998e-05,-0.0009955625058), 230, n);
circle(vec(0.0009622751975,-0.0002552864025,-0.0001601873636), vec(-0.0001548313903,4.107592998e-05,-0.0009955625058), 230, n);
circle(vec(-0.001043686082,0.0001613671384,0), vec(0.0001613671384,0.001043686082,0), 231, n);
circle(vec(-0.001027038354,-0.0001459120334,0), vec(0.0001459120334,-0.001027038354,0), 233, n);
circle(vec(0.002021057152,-0.001829548628,0.0003702562052), vec(-0.0002744924615,0.0002484824864,0.002726154837), 234, n);
circle(vec(-0.002021057152,0.001829548628,0.0003702562052), vec(0.0002744924615,-0.0002484824864,0.002726154837), 234, n);
circle(vec(-0.003906793877,0.0005062122568,0), vec(0.0005062122568,0.003906793877,0), 235, n);
circle(vec(-0.00185483632,-0.0002172265663,0), vec(0.0002172265663,-0.00185483632,0), 237, n);
circle(vec(0.003006720686,-0.00042599747,0.0003367690973), vec(-0.0003334390448,4.724222977e-05,0.003036748776), 238, n);
circle(vec(-0.003006720686,0.00042599747,0.0003367690973), vec(0.0003334390448,-4.724222977e-05,0.003036748776), 238, n);
circle(vec(-0.001495188673,0.0001565323079,0), vec(0.0001565323079,0.001495188673,0), 239, n);
circle(vec(-0.00496852049,0.005279059399,-0.0006242861318), vec(0.0004278634026,-0.0004546054146,-0.007249459566), 242, n);
circle(vec(0.00496852049,-0.005279059399,-0.0006242861318), vec(-0.0004278634026,0.0004546054146,-0.007249459566), 242, n);
circle(vec(-0.00338730628,0.0002707697894,0), vec(0.0002707697894,0.00338730628,0), 243, n);
circle(vec(0.001061614656,-0.001177122836,9.7384736e-05), vec(-6.52217323e-05,7.231813356e-05,0.001585132123), 246, n);
circle(vec(-0.001061614656,0.001177122836,9.7384736e-05), vec(6.52217323e-05,-7.231813356e-05,0.001585132123), 246, n);
circle(vec(0.001081756043,-5.97989478e-05,0), vec(-5.97989478e-05,-0.001081756043,0), 247, n);
circle(vec(-0.001143296896,-4.913649309e-05,0), vec(4.913649309e-05,-0.001143296896,0), 249, n);
circle(vec(-0.00247199159,0.002396143657,-0.0001268024895), vec(9.104884165e-05,-8.825519686e-05,-0.00344270923), 250, n);
circle(vec(0.00247199159,-0.002396143657,-0.0001268024895), vec(-9.104884165e-05,8.825519686e-05,-0.00344270923), 250, n);
circle(vec(-0.002624447247,-4.831567719e-05,0), vec(4.831567719e-05,-0.002624447247,0), 253, n);
circle(vec(0.001025196532,-0.0002452645032,1.29367274e-05), vec(-1.258168588e-05,3.009999389e-06,0.001054126466), 254, n);
circle(vec(-0.001025196532,0.0002452645032,1.29367274e-05), vec(1.258168588e-05,-3.009999389e-06,0.001054126466), 254, n);
circle(vec(-0.00127381336,7.81611898e-06,0), vec(7.81611898e-06,0.00127381336,0), 255, n);
circle(vec(-0.001258276748,7.720786322e-06,0), vec(-7.720786322e-06,-0.001258276748,0), 257, n);
circle(vec(-0.0007621447249,0.0006907161289,1.262306937e-05), vec(-9.353392465e-06,8.476787707e-06,-0.001028568594), 258, n);
circle(vec(0.0007621447249,-0.0006907161289,1.262306937e-05), vec(9.353392465e-06,-8.476787707e-06,-0.001028568594), 258, n);
circle(vec(-0.002529578488,-4.656915766e-05,0), vec(-4.656915766e-05,0.002529578488,0), 259, n);
circle(vec(0.002829229455,-0.001491446141,-0.0001177993742), vec(0.0001042066914,-5.493321421e-05,0.003198273113), 262, n);
circle(vec(-0.002829229455,0.001491446141,-0.0001177993742), vec(-0.0001042066914,5.493321421e-05,0.003198273113), 262, n);
circle(vec(-0.001049156757,-4.509054818e-05,0), vec(-4.509054818e-05,0.001049156757,0), 263, n);
circle(vec(-0.0009862591217,0.0009963877643,8.613139191e-05), vec(-6.059216314e-05,6.121442999e-05,-0.001401961352), 266, n);
circle(vec(0.0009862591217,-0.0009963877643,8.613139191e-05), vec(6.059216314e-05,-6.121442999e-05,-0.001401961352), 266, n);
circle(vec(-0.002887328114,0.0002308032285,0), vec(-0.0002308032285,-0.002887328114,0), 269, n);
circle(vec(0.005992656687,-0.001159431084,-0.0005256267013), vec(0.0005160567389,-9.984423529e-05,0.006103786907), 270, n);
circle(vec(-0.005992656687,0.001159431084,-0.0005256267013), vec(-0.0005160567389,9.984423529e-05,0.006103786907), 270, n);
circle(vec(-0.001213188062,0.0001270094743,0), vec(-0.0001270094743,-0.001213188062,0), 273, n);
circle(vec(-0.001631064434,0.001806347714,0.0002699006218), vec(-0.0001808816395,0.0002003201891,-0.002433775514), 274, n);
circle(vec(0.001631064434,-0.001806347714,0.0002699006218), vec(0.0001808816395,-0.0002003201891,-0.002433775514), 274, n);
circle(vec(-0.001468294314,-0.0001719572389,0), vec(-0.0001719572389,0.001468294314,0), 275, n);
circle(vec(-0.003017088121,0.0003909310383,0), vec(-0.0003909310383,-0.003017088121,0), 277, n);
circle(vec(-0.0008239656165,0.001909203454,0.0002824187476), vec(-0.0001119079438,0.0002593009084,-0.002079417506), 278, n);
circle(vec(0.0008239656165,-0.001909203454,0.0002824187476), vec(0.0001119079438,-0.0002593009084,-0.002079417506), 278, n);
circle(vec(0.0009893246701,0.0001654174988,0), vec(0.0001654174988,-0.0009893246701,0), 283, n);
circle(vec(-0.00200448777,-0.0003859468121,0), vec(-0.0003859468121,0.00200448777,0), 287, n);
circle(vec(0.001433141114,-0.0003310725331,0), vec(0.0003310725331,0.001433141114,0), 293, n);
circle(vec(0.001331245647,0.0003247919506,0), vec(0.0003247919506,-0.001331245647,0), 295, n);
circle(vec(0.001028102758,-0.0002642409085,0), vec(0.0002642409085,0.001028102758,0), 297, n);
circle(vec(-0.0009165898678,0.001663828812,0.0005006757564), vec(-0.0002415852797,0.0004385347942,-0.001899595563), 298, n);
circle(vec(0.0009165898678,-0.001663828812,0.0005006757564), vec(0.0002415852797,-0.0004385347942,-0.001899595563), 298, n);
circle(vec(0.001213837966,0.0003279092855,0), vec(0.0003279092855,-0.001213837966,0), 299, n);
circle(vec(0.005430170982,0.001757005098,0), vec(0.001757005098,-0.005430170982,0), 307, n);
circle(vec(-0.00182895062,0.0006166761533,0), vec(-0.0006166761533,-0.00182895062,0), 309, n);
circle(vec(-0.000664908447,0.0008740668447,0.0003778138992), vec(-0.0002287435337,0.0003006987499,-0.001098224063), 310, n);
circle(vec(0.000664908447,-0.0008740668447,0.0003778138992), vec(0.0002287435337,-0.0003006987499,-0.001098224063), 310, n);
circle(vec(0.00950561862,0.00333551514,0), vec(0.00333551514,-0.00950561862,0), 311, n);
circle(vec(0.0007255722983,-0.001158858496,-0.0005082259161), vec(0.0002697027856,-0.0004307597813,0.001367263023), 314, n);
circle(vec(-0.0007255722983,0.001158858496,-0.0005082259161), vec(-0.0002697027856,0.0004307597813,0.001367263023), 314, n);
circle(vec(-0.009239796443,-0.003499205073,0), vec(-0.003499205073,0.009239796443,0), 315, n);
circle(vec(0.001631038619,-0.0006406855249,0), vec(0.0006406855249,0.001631038619,0), 317, n);
circle(vec(-0.002351277352,-0.0009570710242,0), vec(-0.0009570710242,0.002351277352,0), 319, n);
circle(vec(0.001158709996,-0.0002599638658,-0.0005090459211), vec(0.0004966985474,-0.0001114374391,0.001187514238), 322, n);
circle(vec(-0.001158709996,0.0002599638658,-0.0005090459211), vec(-0.0004966985474,0.0001114374391,0.001187514238), 322, n);
circle(vec(-0.003800415623,-0.001656782749,0), vec(-0.001656782749,0.003800415623,0), 323, n);
circle(vec(0.002113543067,-0.0009524284201,0), vec(0.0009524284201,0.002113543067,0), 325, n);
circle(vec(-0.0001066117708,0.001082113736,0.0004980442281), vec(-4.883178207e-05,0.0004956445402,-0.001087352844), 326, n);
circle(vec(0.0001066117708,-0.001082113736,0.0004980442281), vec(4.883178207e-05,-0.0004956445402,-0.001087352844), 326, n);
circle(vec(-0.004806872058,-0.002382721813,0), vec(-0.002382721813,0.004806872058,0), 331, n);
circle(vec(0.0009777961034,-0.0004997244048,0), vec(0.0004997244048,0.0009777961034,0), 333, n);
circle(vec(-0.003914602198,0.002825241252,0.002504749224), vec(-0.002031033551,0.001465834708,-0.004827639019), 334, n);
circle(vec(0.003914602198,-0.002825241252,0.002504749224), vec(0.002031033551,-0.001465834708,-0.004827639019), 334, n);
circle(vec(0.001503932236,0.0007920426889,0), vec(0.0007920426889,-0.001503932236,0), 335, n);
circle(vec(0.001640098751,-0.0008896324739,0), vec(0.0008896324739,0.001640098751,0), 337, n);
circle(vec(-0.0008933241562,0.0002041506632,0.0005043560611), vec(-0.0004916803053,0.0001123633115,-0.0009163544846), 338, n);
circle(vec(0.0008933241562,-0.0002041506632,0.0005043560611), vec(0.0004916803053,-0.0001123633115,-0.0009163544846), 338, n);
circle(vec(0.003514866112,0.002077521792,0), vec(0.002077521792,-0.003514866112,0), 343, n);
circle(vec(-0.001042330228,0.0006334742115,0), vec(-0.0006334742115,-0.001042330228,0), 345, n);
circle(vec(0.003177974654,0.001985216486,0), vec(0.001985216486,-0.003177974654,0), 347, n);
circle(vec(0.0009279334215,-0.0005956154694,0), vec(0.0005956154694,0.0009279334215,0), 349, n);
circle(vec(-0.001536119406,0.001040092121,0), vec(-0.001040092121,-0.001536119406,0), 353, n);
circle(vec(-0.001047892728,-0.0007284315688,0), vec(-0.0007284315688,0.001047892728,0), 355, n);
circle(vec(0.001133564487,-0.0008087969204,0), vec(0.0008087969204,0.001133564487,0), 357, n);
circle(vec(0.001981541051,-0.001117618553,-0.001644360543), vec(0.001432256392,-0.0008078138554,0.002274989268), 358, n);
circle(vec(-0.001981541051,0.001117618553,-0.001644360543), vec(-0.001432256392,0.0008078138554,0.002274989268), 358, n);
circle(vec(-0.001189137287,0.002015362581,0.001780406441), vec(-0.0009047529119,0.001533384904,-0.002340028594), 362, n);
circle(vec(0.001189137287,-0.002015362581,0.001780406441), vec(0.0009047529119,-0.001533384904,-0.002340028594), 362, n);
circle(vec(0.001597619524,0.001231096315,0), vec(0.001231096315,-0.001597619524,0), 363, n);
circle(vec(0.001572500332,0.001274451074,0), vec(0.001274451074,-0.001572500332,0), 367, n);
circle(vec(-0.001957735512,0.001626877119,0), vec(-0.001626877119,-0.001957735512,0), 369, n);
circle(vec(0.00219380575,-0.001423570387,-0.002200507473), vec(0.001845924943,-0.001197828971,0.00261521248), 370, n);
circle(vec(-0.00219380575,0.001423570387,-0.002200507473), vec(-0.001845924943,0.001197828971,0.00261521248), 370, n);
circle(vec(-0.0008787461649,0.0007674657996,0), vec(-0.0007674657996,-0.0008787461649,0), 373, n);
circle(vec(0.0008698436628,-0.000798156527,0), vec(0.000798156527,0.0008698436628,0), 377, n);
circle(vec(7.999420518e-05,-0.001157540171,-0.001077864448), vec(7.431081476e-05,-0.001075299805,0.001160300961), 378, n);
circle(vec(-7.999420518e-05,0.001157540171,-0.001077864448), vec(-7.431081476e-05,0.001075299805,0.001160300961), 378, n);
circle(vec(-0.0007445345046,-0.0007001967919,0), vec(-0.0007001967919,0.0007445345046,0), 379, n);
circle(vec(-0.001294722989,0.001310709925,0), vec(-0.001310709925,-0.001294722989,0), 385, n);
circle(vec(-0.0007063148132,-0.0007328088625,0), vec(-0.0007328088625,0.0007063148132,0), 387, n);
circle(vec(-0.0008558638815,-0.0009327340544,0), vec(-0.0009327340544,0.0008558638815,0), 391, n);
circle(vec(-0.0006950891539,-0.0007958751108,0), vec(-0.0007958751108,0.0006950891539,0), 395, n);
circle(vec(-1.61980133e-05,0.001885603959,0.002241045311), vec(-1.925067152e-05,0.002240962627,-0.001885673532), 398, n);
circle(vec(1.61980133e-05,-0.001885603959,0.002241045311), vec(1.925067152e-05,-0.002240962627,-0.001885673532), 398, n);
circle(vec(0.001151701636,-0.0003013539876,-0.001564668399), vec(0.001513707599,-0.0003960763855,0.001190475066), 406, n);
circle(vec(-0.001151701636,0.0003013539876,-0.001564668399), vec(-0.001513707599,0.0003960763855,0.001190475066), 406, n);
circle(vec(-0.00124471726,-0.001656960595,0), vec(-0.001656960595,0.00124471726,0), 407, n);
circle(vec(-0.001055506968,-0.00147933948,0), vec(-0.00147933948,0.001055506968,0), 411, n);
circle(vec(0.0001978201965,-0.0006148096269,-0.0009413682225), vec(0.0002883352408,-0.0008961232724,0.0006458511496), 414, n);
circle(vec(-0.0001978201965,0.0006148096269,-0.0009413682225), vec(-0.0002883352408,0.0008961232724,0.0006458511496), 414, n);
circle(vec(-0.000697833752,0.001117106367,0), vec(-0.001117106367,-0.000697833752,0), 421, n);
circle(vec(0.0008650400447,-0.0007078467866,-0.002154324376), vec(0.001667273127,-0.00136429976,0.001117739394), 434, n);
circle(vec(-0.0008650400447,0.0007078467866,-0.002154324376), vec(-0.001667273127,0.00136429976,0.001117739394), 434, n);
circle(vec(-0.0004861165329,-0.001011698984,0), vec(-0.001011698984,0.0004861165329,0), 439, n);
circle(vec(0.001034715563,-0.002732209452,0), vec(0.002732209452,0.001034715563,0), 453, n);
circle(vec(-0.001098407572,0.003130264151,0), vec(-0.003130264151,-0.001098407572,0), 457, n);
circle(vec(-0.0003910942744,0.001208709515,0), vec(-0.001208709515,-0.0003910942744,0), 461, n);

t=0;

var tail = new THREE.Object3D();
scene.add(tail);

var dot = new THREE.Mesh( new THREE.SphereGeometry(0.015, 5, 5), new THREE.MeshBasicMaterial( {color: 'blue'} ) );
scene.add( dot );

var armgeom = new THREE.Geometry();
var arm = new THREE.Line( armgeom, new THREE.LineBasicMaterial({color: 0x0000ff}));
scene.add( arm );

function animate() {
	requestAnimationFrame( animate );

	t += 2.0*Math.PI/2048.0;

	circles[0].moon.copy(circles[0].center);
	circles[0].moon.addScaledVector(circles[0].r1, Math.cos(circles[0].w*t));
	circles[0].moon.addScaledVector(circles[0].r2, Math.sin(circles[0].w*t));

	scene.remove(arm);
	armgeom = new THREE.Geometry();
	armgeom.vertices.push(circles[0].center.clone());

	for(var i=1; i<circles.length; i++){
		circles[i].center.copy(circles[i-1].moon);
		circles[i].moon.copy(circles[i].center);
		circles[i].moon.addScaledVector(circles[i].r1, Math.cos(circles[i].w*t));
		circles[i].moon.addScaledVector(circles[i].r2, Math.sin(circles[i].w*t));
		circles[i].line.position.copy(circles[i].center);
		armgeom.vertices.push(circles[i].center.clone());
	}

	armgeom.vertices.push(circles[circles.length-1].moon.clone());
	dot.position.copy(circles[circles.length-1].moon);
	arm = new THREE.Line( armgeom, new THREE.LineBasicMaterial({color: 'gray'}));
	scene.add( arm );

	if(t<=2.0*Math.PI+1e-8){
		scene.remove(tail);
		tailverts.push( circles[circles.length-1].moon.clone() );
		var tailmat = new THREE.LineBasicMaterial( { color: 0x003399 } );
		var tailgeom = new THREE.Geometry();
		for(var i=0; i<10; i++){
			tailgeom.vertices = tailverts;
		}
		tail = new THREE.Line(tailgeom, tailmat);
		scene.add(tail);
	}

	renderer.render( scene, camera ); // renderer, scene and camera are independent
}
animate();


</script>



	</body>
</html>
